(()=>{"use strict";const e=(e,t,n,s)=>{const a=document.querySelector(e),c=e=>{const s=document.querySelector(n),a="--animation-burger",{target:c}=e;if(c&&c.closest(t)){if(!s.classList.contains("show"))return document.documentElement.style.setProperty(a,"fadeIn"),void s.classList.add("show");document.documentElement.style.setProperty(a,"fadeOut"),s.addEventListener("animationend",(()=>s.classList.remove("show")),{once:!0})}};s?a.addEventListener("click",c):(window.matchMedia("(max-width: 992px)").matches&&a.addEventListener("click",c),window.addEventListener("resize",(()=>{window.matchMedia("(max-width: 992px)").matches?a.addEventListener("click",c):a.removeEventListener("click",c)})))},t=(e,t,n)=>{const s=document.querySelector(e),a=e=>{const{target:n}=e;if(n&&n.closest(t)){const t=e.offsetX,s=e.offsetY,a=document.createElement("span");a.classList.add("ripple"),a.style.left=`${t}px`,a.style.top=`${s}px`,n.append(a),n.addEventListener("animationend",(()=>a.remove()))}};n?s.addEventListener("click",a):(window.matchMedia("(max-width: 992px)").matches&&s.addEventListener("click",a),window.addEventListener("resize",(()=>{window.matchMedia("(max-width: 992px)").matches?s.addEventListener("click",a):s.removeEventListener("click",a)})))},n=e=>{const t=(e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){const n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}};function n(e){let n="+7 (___) ___ __ __",s=0,a=n.replace(/\D/g,""),c=this.value.replace(/\D/g,"");a.length>=c.length&&(c=a),this.value=n.replace(/./g,(e=>/[_\d]/.test(e)&&s<c.length?c.charAt(s++):s>=c.length?"":e)),"blur"===e.type?2===this.value.length&&(this.value=""):t(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)}))},s=e=>{const t=document.querySelectorAll(e);var s;s='input[name="name"]',document.querySelectorAll(s).forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\d/,"")}))})),n('input[name="phone"]');t.forEach((e=>(e=>{e.addEventListener("submit",(t=>{t.preventDefault();const n=e.lastElementChild;n.insertAdjacentHTML("beforeend",'\n                <div class="loading">\n                    <div class="loading__line"></div>\n                    <div class="loading__line"></div>\n                    <div class="loading__line"></div>\n                </div>\n            ');const s=new FormData(e);(async(e,t)=>{const n=await fetch(e,{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:t});if(!n.ok)throw new Error(`Could not fetch ${e}, status: ${n.status}`);return await n.json()})("http://localhost:3000/requests",JSON.stringify(Object.fromEntries(s.entries()))).then((e=>{console.log(e),n.lastElementChild.remove(),n.insertAdjacentHTML("beforeend",'\n                        <img class="form__message" src=img/svg/request/checked.svg alt="checked">\n                    '),setTimeout((()=>n.lastElementChild.remove()),3e3)})).catch((e=>{console.log(e.status),n.lastElementChild.remove(),n.insertAdjacentHTML("beforeend",'\n                        <img class="form__message" src=img/svg/request/error.svg alt="error">\n                    '),setTimeout((()=>n.lastElementChild.remove()),3e3)})).finally((()=>e.reset()))}))})(e)))};window.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=()=>{const e=document.querySelector('[data-container="main"]'),t=document.querySelector('[data-container="services"]'),n=window.getComputedStyle(e).marginLeft;window.matchMedia("(max-width: 992px)").matches?(t.classList.remove("container-left"),t.classList.add("container"),t.style.marginLeft="auto"):(t.classList.remove("container"),t.classList.add("container-left"),t.style.marginLeft=n)};e(),window.addEventListener("resize",e)})(),window.addEventListener("scroll",(()=>{const e=document.querySelector(".promo"),t=document.querySelector(".header"),n=document.querySelector(".btn_connect");e.offsetHeight<=window.pageYOffset?(t.classList.add("header_active"),n.classList.add("btn_border_dark")):(t.classList.remove("header_active"),n.classList.remove("btn_border_dark"))})),e("body",".btn_burger",".menu",!0),e(".menu__items",".menu__link",".menu"),t("body",".btn__element",!0),t(".menu__items",".menu__link"),((e,t,n,s)=>{const a=document.querySelector(e),c=a.querySelectorAll(t),o=document.querySelectorAll(n),i=()=>{o.forEach((e=>{e.classList.remove("show"),e.classList.add("hide")})),c.forEach((e=>{e.classList.remove(s)}))};i();const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.length-1;o[e].classList.remove("hide"),o[e].classList.add("show"),c[e].classList.add(s)};r(),a.addEventListener("click",(e=>{const{target:n}=e;n&&n.closest(t)&&c.forEach(((e,s)=>{n.closest(t).getAttribute("data-tab")===e.getAttribute("data-tab")&&(i(),r(s))}))}))})(".bar__tabs",".bar__tab",".bar__inner","bar__tab_active"),s(".form")}))})();