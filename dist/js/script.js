(()=>{"use strict";const e=(e,t,n,s)=>{const a=document.querySelector(e),o=e=>{const s=document.querySelector(n),a="--animation",{target:o}=e;if(o&&o.closest(t)){if(!s.classList.contains("show"))return document.documentElement.style.setProperty(a,"fadeIn"),void s.classList.add("show");document.documentElement.style.setProperty(a,"fadeOut"),s.addEventListener("animationend",(()=>s.classList.remove("show")),{once:!0})}};s?a.addEventListener("click",o):(window.matchMedia("(max-width: 992px)").matches&&a.addEventListener("click",o),window.addEventListener("resize",(()=>{window.matchMedia("(max-width: 992px)").matches?a.addEventListener("click",o):a.removeEventListener("click",o)})))},t=(e,t,n)=>{const s=document.querySelector(e),a=e=>{const{target:n}=e;if(n&&n.closest(t)){const t=e.offsetX,s=e.offsetY,a=document.createElement("span");a.classList.add("ripple"),a.style.left=`${t}px`,a.style.top=`${s}px`,n.append(a),n.addEventListener("animationend",(()=>a.remove()))}};n?s.addEventListener("click",a):(window.matchMedia("(max-width: 992px)").matches&&s.addEventListener("click",a),window.addEventListener("resize",(()=>{window.matchMedia("(max-width: 992px)").matches?s.addEventListener("click",a):s.removeEventListener("click",a)})))},n=e=>{const t=(e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){const n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}};function n(e){let n="+7 (___) ___ __ __",s=0,a=n.replace(/\D/g,""),o=this.value.replace(/\D/g,"");a.length>=o.length&&(o=a),this.value=n.replace(/./g,(e=>/[_\d]/.test(e)&&s<o.length?o.charAt(s++):s>=o.length?"":e)),"blur"===e.type?2===this.value.length&&(this.value=""):t(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)}))},s=e=>{const t=document.querySelectorAll(e);var s;s='input[name="name"]',document.querySelectorAll(s).forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\d/,"")}))})),n('input[name="phone"]');t.forEach((e=>(e=>{e.addEventListener("submit",(t=>{t.preventDefault();const n=e.lastElementChild;n.insertAdjacentHTML("beforeend",'\n                <div class="loading">\n                    <div class="loading__line"></div>\n                    <div class="loading__line"></div>\n                    <div class="loading__line"></div>\n                </div>\n            ');const s=new FormData(e);(async(e,t)=>{const n=await fetch(e,{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:t});if(!n.ok)throw new Error(`Could not fetch ${e}, status: ${n.status}`);return await n.json()})("http://localhost:3000/requests",JSON.stringify(Object.fromEntries(s.entries()))).then((e=>{console.log(e),n.lastElementChild.remove(),n.insertAdjacentHTML("beforeend",'\n                        <img class="form__message" src=img/svg/request/checked.svg alt="checked">\n                    '),n.firstElementChild.setAttribute("disabled","disabled"),setTimeout((()=>n.lastElementChild.remove()),3e3)})).catch((e=>{console.log(e.status),n.lastElementChild.remove(),n.insertAdjacentHTML("beforeend",'\n                        <img class="form__message" src=img/svg/request/error.svg alt="error">\n                    '),setTimeout((()=>n.lastElementChild.remove()),3e3)})).finally((()=>e.reset()))}))})(e)))},a=e=>{const t=document.querySelector(e),n=(()=>{const e=document.createElement("div");e.style.cssText="\n        width: 50px;\n        height: 50px;\n        overflow-y: scroll;\n        visibility: hidden;\n    ",document.body.append(e);const t=e.offsetWidth-e.clientWidth;return e.remove(),t})();document.documentElement.style.setProperty("--animation","fadeIn"),t.classList.remove("close"),t.classList.add("open"),document.body.style.marginRight=`${n}px`};let o=0;const c=(e,t)=>{const n=document.querySelector(e);document.querySelectorAll(t).forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),a(e),clearTimeout(o)}))})),n.addEventListener("click",(t=>{t.target!==n&&""!==t.target.getAttribute("cross")||(e=>{const t=document.querySelector(e);document.documentElement.style.setProperty("--animation","fadeOut"),t.addEventListener("animationend",(()=>{t.classList.remove("open"),t.classList.add("close"),document.body.style.marginRight="0px"}),{once:!0})})(e)}))};window.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=()=>{const e=document.querySelector('[data-container="main"]'),t=document.querySelector('[data-container="services"]'),n=window.getComputedStyle(e).marginLeft;window.matchMedia("(max-width: 992px)").matches?(t.classList.remove("container-left"),t.classList.add("container"),t.style.marginLeft="auto"):(t.classList.remove("container"),t.classList.add("container-left"),t.style.marginLeft=n)};e(),window.addEventListener("resize",e)})(),window.addEventListener("scroll",(()=>{const e=document.querySelector(".promo"),t=document.querySelector(".header"),n=document.querySelector(".btn_connect");e.offsetHeight<=window.pageYOffset?(t.classList.add("header_active"),n.classList.add("btn_border_dark")):(t.classList.remove("header_active"),n.classList.remove("btn_border_dark"))})),e("body",".btn_burger",".menu",!0),e(".menu__items",".menu__link",".menu"),t("body",".btn__element",!0),t(".menu__items",".menu__link"),((e,t,n,s)=>{const a=document.querySelector(e),o=a.querySelectorAll(t),c=document.querySelectorAll(n),d=()=>{c.forEach((e=>{e.classList.remove("show"),e.classList.add("hide")})),o.forEach((e=>{e.classList.remove(s)}))};d();const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.length-1;c[e].classList.remove("hide"),c[e].classList.add("show"),o[e].classList.add(s)};i(),a.addEventListener("click",(e=>{const{target:n}=e;n&&n.closest(t)&&o.forEach(((e,s)=>{n.closest(t).getAttribute("data-tab")===e.getAttribute("data-tab")&&(d(),i(s))}))}))})(".bar__tabs",".bar__tab",".bar__inner","bar__tab_active"),s(".form"),c('[data-modal="feedback"]','[data-modal-trigger="feedback"]'),c('[data-modal="contacts"]','[data-modal-trigger="contacts"]'),o=setTimeout((()=>{document.querySelectorAll("[data-modal]").forEach((e=>{"none"===getComputedStyle(e).display&&a('[data-modal="feedback"]')}))}),15e3)}))})();